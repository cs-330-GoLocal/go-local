<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/forms.css">
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet"> 
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet"> 
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Kiara - GoLocal</title>
        <link rel="shortcut icon" type="image/png" href="images/travel.png">
    </head>
    <body>
        <nav>
            <a href="#"><img src="images/travel.png" alt="GoLocal Logo"></a>
            <a href="#" class="logotext">GoLocal</a>
            <div class = "search">
                <form>
                    <input type="text" placeholder="Search" name="search">
                    <button type = "submit"><i class="fa fa-search"></i></button>
                </form>
            </div>
            <button class="prfbtn"><i class="fa fa-star"></i></button>
            <a class="prfbtn" href="#"><i class = "fa fa-user"></i></a>
            <img src="images/Kiara-profile-pic.jpeg" alt="Profile Picture" class="hide">
        </nav>
        <div class = "main">
            <div class = "profile" id="kiara">
                <img src = "images/Kiara-profile-pic.jpeg">
                <span class = "info">
                    <h1>Kiara<small>, 20</small></h1>
                    <h3>Evanston, Illinois</h3>
                </span>
            </div>
            <div class = "category" id = "Restaurants">
                <h1>Restaurants</h1>
                <div class = "cat-content">
                    <div class = "postcard restaurant">
                        <div class = "postimg duo">
                            <img src="images/Flat-Top.jpg" alt="Flat Top Picture">
                            <img src="images/Flat-Top-Food.jpg" alt="Flat Top Food Picture">
                        </div>
                        <h2>Flat Top Grill</h2>
                        <h3>Lunch and Dinner</h3>
                        <h3>Stir-fry</h3>
                        <h4>707 Church St, Evanston, IL 60201</h4>
                    </div>
                    <div class = "postcard restaurant">
                        <div class = "postimg duo">
                            <img src="images/Todoroki.jpg" alt="Todoroki Picture">
                            <img src="images/Todoroki-Food.jpeg" alt="Todoroki Food Picture">
                        </div>
                        <h2>Todoroki</h2>
                        <h3>Lunch and Dinner</h3>
                        <h3>Hibachi and Sushi</h3>
                        <h4>526 Davis St, Evanston, IL 60201</h4>
                    </div>
                    <div class = "postcard restaurant">
                        <div class = "postimg duo">
                            <img src="images/Le-Peep.jpg" alt="Le Peep Picture">
                            <img src="images/Le-Peep-Food.jpg" alt="Le Peep Food Picture">
                        </div>
                        <h2>Le Peep</h2>
                        <h3>Breakfast and Lunch</h3>
                        <h3>Casual American</h3>
                        <h4>827 Church St, Evanston, IL 60202</h4>
                    </div>
                </div>
            </div>
            <div class ="category" id = "Nightlife">
                <h1>Nightlife</h1>
                <div class = "cat-content">
                    <div class = "postcard bar">
                        <div class = "postimg">
                            <img src="images/La-Mach.jpg" alt="La Mach Picture">
                        </div>
                        <h2>La Mach</h2>
                        <h3>Casual bar</h3>
                        <h4>1620 Orrington Ave, Evanston, IL 60201</h4>
                    </div>
                    <div class = "postcard bar">
                        <div class = "postimg">
                            <img src="images/Kincades.jpg" alt="Kincade's Picture">
                        </div>
                        <h2>Kincade's Bar and Grill</h2>
                        <h3>Upscale Sports Bar</h3>
                        <h4>950 W Armitage Ave, Chicago, IL 60614</h4>
                    </div>
                    <div class = "postcard bar">
                        <div class = "postimg">
                            <img src="images/Old-Crow.jpg" alt="Old Crow Picture">
                        </div>
                        <h2>Old Crow</h2>
                        <h3>Country Bar</h3>
                        <h4>3506 N Clark St, Chicago, IL 60657</h4>
                    </div>
                </div>
            </div>
        </div>
        <button class = "page-follow" onclick=newPost()>New Post</button>
        <div class="form-container hide" id="form">
            <button id = "close" class = "close" onclick = closeForm()><i class = "fa fa-times"></i></button>
            <h1>Create Post</h1>
            <br>
            <form action="" class="formi" id="formp">
                <div>
                    <input type="text" name="" id="" placeholder="Category"> 
                </div>
                <div>
                   <input type="text" name="" id="" placeholder="Title"> 
                </div>
                <div>
                    <input type="text" name="" id="" placeholder="Photo URL"> 
                </div>
                <br>
                <div>
                   <textarea id="amessage" name="message" cols="65" rows="10" placeholder="What's on your mind?" onfocus="this.placeholder = ''"
                    onblur="this.placeholder = 'Whats on your mind?'"></textarea>  
                </div>
            </form>
            <button type="submit" onclick=submitForm()>Post</button>
        </div>
    </body>
    <script>
        function closeForm() {
            var postmaker = document.getElementById("form");
            postmaker.classList.add("hide");
        }
        
        function newPost() {
            var postmaker = document.getElementById("form")
            postmaker.classList.remove("hide")
        }
        
        function submitForm() {
            var data = document.getElementById("formp");
            var category = data.elements[0].value;
            var location = data.elements[1].value;
            var photourl = data.elements[2].value;
            var description = data.elements[3].value;

            if(photourl === ""){
                photourl = "images/GoLocal-logo.jpeg";
            }

            if(category === ""){
                category = "Blank"
            }

            var newCategory = true;
            var categories = document.getElementsByClassName("category");

            for(item of categories) {
                if(item.id === category) {
                    newCategory = false;
                }
            }

            if(newCategory){
                var template = `
                <div class ="category" id = "${category}">
                    <h1>${category}</h1>
                    <div class = "cat-content">
                        <div class = "postcard">
                            <div class = "postimg">
                                <img src="${photourl}" alt="${location} Picture">
                            </div>
                            <h2>${location}</h2>
                            <h4>${description}</h4>
                        </div>
                    </div>
                </div>
                `;
                document.querySelector(".main").innerHTML += template;
            }
            else {
                var template = `
                        <div class = "postcard">
                            <div class = "postimg">
                                <img src="${photourl}" alt="${location} Picture">
                            </div>
                            <h2>${location}</h2>
                            <h4>${description}</h4>
                        </div>
                    `;
                document.querySelector("#" + category + "> .cat-content").innerHTML += template;
            }

            document.getElementById("form").classList.add("hide")
        }
    </script>
</html>